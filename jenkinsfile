pipeline {
agent any
stages{
stage('clone and clean repo'){
steps {
cleanWs()
bat "git clone https://github.com/Moetez-abidi/testjenk/"
bat "mvn clean -f testjenk"
}

}
stage('Test'){

steps{ bat "mvn clean install -f testjenk"
}}
stage('Deploy'){
steps {

bat "mvn package -f testjenk"
bat "mvn deploy -f testjenk"
bat "mvn sonar:sonar -f testjenk"
}

}
}
}
